name: Run jd_Scripts

# 定时触发，每天 12 点和 23 点运行
on:
  schedule:
    - cron: '0 12,23 * * *'

jobs:
  run-scripts:
    runs-on: ubuntu-latest

    steps:
      # 检出代码
      - name: Checkout
        uses: actions/checkout@v3

      # 设置 Node.js 环境
      - name: Set up Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 16

      # 安装依赖
      - name: Install dependencies
        run: npm install

      # 设置环境变量，将 JD_COOKIE 替换为你的实际值
      - name: Set environment variables
        env:
          JD_COOKIE: ${{ secrets.JD_COOKIE }}
        run: |
          echo "JD_COOKIE=$JD_COOKIE" >> $GITHUB_ENV

      # 运行脚本，这里假设要运行的脚本名为 jd_sample.js，你可以根据实际情况修改
      - name: Run scripts
        run: node jd_sample.js    
